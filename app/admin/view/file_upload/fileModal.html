	<!-- 项目模态框 -->
<div class="modal fade" id="file_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="form-horizontal modal-dialog">
      <div class="modal-content">

      </div>
      <!-- /.modal-content --> 
    </div>
    <!-- /.modal-dialog -->
</div>	
<input type="hidden" id="crop_img_url" value="{:url('admin/FileUpload/uploadOneImg')}"> 
<input type="hidden" id="upload_file_url" value="{:url('admin/FileUpload/filesUpload')}">
<input type="hidden" id="select_file_url" value="{:url('admin/FileUpload/materialFile')}">
<script type="text/javascript">
$("#file_modal").on("hidden.bs.modal", function() {  
	$("#file_modal").removeData("bs.modal");  
});
var xhrOnProgress=function(fun) {
    xhrOnProgress.onprogress = fun; //绑定监听
    //使用闭包实现监听绑
    return function() {
        //通过$.ajaxSettings.xhr();获得XMLHttpRequest对象
        var xhr = $.ajaxSettings.xhr();
        //判断监听函数是否为函数
        if (typeof xhrOnProgress.onprogress !== 'function')
            return xhr;
        //如果有监听函数并且xhr对象支持绑定时就把监听函数绑定上去
        if (xhrOnProgress.onprogress && xhr.upload) {
            xhr.upload.onprogress = xhrOnProgress.onprogress;
        }
        return xhr;
    }
}

//保留小数
function decimal(num,v){
	var vv = Math.pow(10,v);
	return Math.round(num*vv)/vv;
}
</script>
